<!DOCTYPE html>
<html>
<head>
    <title>Cloud Gazer</title>
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            background: #87CEEB; 
        }
        #cloudCanvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <canvas id="cloudCanvas"></canvas>
    <script>
        const canvas = document.getElementById('cloudCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const clouds = []; // Array to store cloud data

        function drawCloud(x, y) {
            ctx.beginPath();
            ctx.fillStyle = 'white';
            ctx.arc(x, y, 60, Math.PI * 0.5, Math.PI * 1.5);
            ctx.arc(x + 70, y - 60, 70, Math.PI * 1, Math.PI * 1.85);
            ctx.arc(x + 152, y - 45, 50, Math.PI * 1.37, Math.PI * 1.91);
            ctx.arc(x + 200, y, 60, Math.PI * 1.5, Math.PI * 0.5);
            ctx.fill();
        }

        function addCloud() {
            const x = -200; // Start clouds off screen
            const y = Math.random() * (canvas.height / 2);
            clouds.push({x, y});
        }

        function moveClouds() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            clouds.forEach(cloud => {
                cloud.x += 0.5; // Cloud speed
                drawCloud(cloud.x, cloud.y);
                if (cloud.x > canvas.width + 200) {
                    clouds.shift(); // Remove cloud that moves off screen
                }
            });
        }

        // Add clouds every 4 seconds
        setInterval(addCloud, 4000);
        // Move and redraw clouds every 20 milliseconds
        setInterval(moveClouds, 20);

    </script>

    <!-- Progress Bar -->
    <div class="progress mt-5">
        <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
            data-gameid="<%= gameId %>" data-userid="<%= userName %>"></div>
    </div>
    <p id="time-remaining" class="mt-3">Time remaining: 15 minutes 0 seconds</p>
    <button onclick="window.location.href='/games'">Back to Games</button>
    <script src="/progressTracker/progress.js"></script>

</body>
</html>
