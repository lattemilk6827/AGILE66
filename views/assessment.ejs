<!DOCTYPE html>
<html>
<head>
    <title></title>
    <!-- Link to styles in main.css in the public folder  -->
    <link rel="stylesheet" href="/main.css">
    <!-- Link to the Bootstrap CSS for styling the page -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
    crossorigin="anonymous">
    <!-- Link to the Font Awesome CSS for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- For bootstrap javascript libraries for carousel -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <style>
        /* CSS to ensure all emotion images are the same size */
        .emotion-image {
            width: 100px; /* Set a fixed width */
            height: 100px; /* Set a fixed height */
            object-fit: cover; /* Ensure the image covers the container without distortion */
            border-radius: 8px; /* Optional: Adds rounded corners to the images */
        }
    </style>
</head>

<body class="main-home-page">
    <!-- Include the header -->
    <%- include('../utils/header') %>

    <div class="container">
        <div class="text-center my-5">
            <h1>SELF - ASSESSMENT</h1>
            <button class="btn btn-primary">Login to view your dashboard</button>
        </div>
    </div>

    <br><br>

    <!-- Understanding Emotions Section -->
    <div class="container mt-4">
        <h2 class="text-center">Understanding Emotions</h2>
        <br><br>
        <div class="row text-center">
            <div class="col">
                <!-- Image for Happy Emotion -->
                <img src="images/happy-image.jpg" alt="Happy" class="emotion-image mb-2">
                <div class="cloud">Happy</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#happyDescription" aria-expanded="false" aria-controls="happyDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="happyDescription">
                    <p class="emotion-description">Feeling happy can lead to a positive outlook on life. It often involves joy, pleasure, or contentment.</p>
                </div>
            </div>
            <div class="col">
                <!-- Image for Sad Emotion -->
                <img src="images/sad-image.jpg" alt="Sad" class="emotion-image mb-2">
                <div class="cloud">Sad</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#sadDescription" aria-expanded="false" aria-controls="sadDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="sadDescription">
                    <p class="emotion-description">Sadness can be a reaction to loss or disappointment. It might involve feelings of sorrow or unhappiness.</p>
                </div>
            </div>
            <div class="col">
                <!-- Image for Angry Emotion -->
                <img src="images/angry-image.jpg" alt="Angry" class="emotion-image mb-2">
                <div class="cloud">Angry</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#angryDescription" aria-expanded="false" aria-controls="angryDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="angryDescription">
                    <p class="emotion-description">Anger is a powerful emotion that often arises in response to perceived injustice or frustration.</p>
                </div>
            </div>
            <div class="col">
                <!-- Image for Surprised Emotion -->
                <img src="images/surprised-image.jpg" alt="Surprised" class="emotion-image mb-2">
                <div class="cloud">Surprised</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#surprisedDescription" aria-expanded="false" aria-controls="surprisedDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="surprisedDescription">
                    <p class="emotion-description">Surprise is an emotional reaction to something unexpected. It can range from shock to delight.</p>
                </div>
            </div>
        </div>
        <br><br>
        <div class="row text-center">
            <div class="col">
                <!-- Image for Shy Emotion -->
                <img src="images/shy-image.jpg" alt="Shy" class="emotion-image mb-2">
                <div class="cloud">Shy</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#shyDescription" aria-expanded="false" aria-controls="shyDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="shyDescription">
                    <p class="emotion-description">Shyness is a feeling of discomfort or apprehension in social situations. It often involves being reserved or hesitant to engage with others.</p>
                </div>
            </div>
            <div class="col">
                <!-- Image for Depressed Emotion -->
                <img src="images/depressed-image.jpg" alt="Depressed" class="emotion-image mb-2">
                <div class="cloud">Depressed</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#depressedDescription" aria-expanded="false" aria-controls="depressedDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="depressedDescription">
                    <p class="emotion-description">Depression is a serious mood disorder characterized by persistent feelings of sadness, hopelessness, and loss of interest in activities. It can impact one's daily functioning and overall quality of life.</p>
                </div>
            </div>
            <div class="col">
                <!-- Image for Stressed Emotion -->
                <img src="images/stress-image.jpg" alt="Stress" class="emotion-image mb-2">
                <div class="cloud">Stressed</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#stressedDescription" aria-expanded="false" aria-controls="stressedDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="stressedDescription">
                    <p class="emotion-description">Stress is a feeling of emotional or physical tension that can arise from challenging or demanding situations. It can lead to feelings of overwhelm and affect both mental and physical health.</p>
                </div>
            </div>
            <div class="col">
                <!-- Image for Fear Emotion -->
                <img src="images/fear-image.jpg" alt="Fear" class="emotion-image mb-2">
                <div class="cloud">Fear</div>
                <button class="btn btn-info mt-2" type="button" data-toggle="collapse" data-target="#fearDescription" aria-expanded="false" aria-controls="fearDescription">
                    Learn More
                </button>
                <div class="collapse mt-2" id="fearDescription">
                    <p class="emotion-description">Fear is an emotional response to a perceived threat or danger. It can trigger a fight-or-flight reaction and is often associated with anxiety or nervousness.</p>
                </div>
            </div>
        </div>        
    </div>

    <br><br>

    <div class="questionnaireHeader">
        <h2 class="text-center">Questionnaire</h2>
    </div>

    <!-- Form to submit responses -->
    <form id="questionnaireForm" action="/submit-response" method="post">
        <div class="container">
            <div class="row align-items-center">
                <!-- Image Section -->
                <div class="col-md-4 text-center mb-4 mb-md-0">
                    <img src="images/recognising-emotions.png" alt="Recognising Emotions" class="wheel-of-emotion-image img-fluid" style="max-width: 250px;">
                </div>

                <!-- Carousel Section -->
                <div class="col-md-8">
                    <div id="carouselExampleIndicators" class="carousel slide">
                        <ol class="carousel-indicators">
                            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                        </ol>
                        <div class="carousel-inner">
                            <!-- Question 1 -->
                            <div class="carousel-item active">
                                <div class="text-center">
                                    <p><strong>How are you feeling today?</strong></p>
                                    <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Toolbar with button groups">
                                        <div class="btn-group me-2" role="group" aria-label="Rating group">
                                            <button type="button" class="btn btn-body-tertiary">0</button>
                                            <button type="button" class="btn btn-body-tertiary">1</button>
                                            <button type="button" class="btn btn-body-tertiary">2</button>
                                            <button type="button" class="btn btn-body-tertiary">3</button>
                                            <button type="button" class="btn btn-body-tertiary">4</button>
                                            <button type="button" class="btn btn-body-tertiary">5</button>
                                            <button type="button" class="btn btn-body-tertiary">6</button>
                                            <button type="button" class="btn btn-body-tertiary">7</button>
                                            <button type="button" class="btn btn-body-tertiary">8</button>
                                            <button type="button" class="btn btn-body-tertiary">9</button>
                                            <button type="button" class="btn btn-body-tertiary">10</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Question 2 -->
                            <div class="carousel-item">
                                <div class="text-center">
                                    <p><strong>On a scale from 0 to 10, how comfortable are you talking about your feelings with a trusted adult?</strong></p>
                                    <input type="range" class="form-range" id="comfortLevel" min="0" max="10" step="1">
                                    <label for="comfortLevel" class="form-label">Comfort Level: <span id="comfortValue">5</span></label>
                                </div>
                            </div>

                            <!-- Question 3 -->
                            <div class="carousel-item">
                                <div class="text-center">
                                    <p><strong>How often do you feel you have someone to talk to about your worries?</strong></p>
                                    <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Toolbar with button groups">
                                        <div class="btn-group me-2" role="group" aria-label="Frequency group">
                                            <button type="button" class="btn btn-body-tertiary">Always</button>
                                            <button type="button" class="btn btn-body-tertiary">Often</button>
                                            <button type="button" class="btn btn-body-tertiary">Sometimes</button>
                                            <button type="button" class="btn btn-body-tertiary">Rarely</button>
                                            <button type="button" class="btn btn-body-tertiary">Never</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Question 4 -->
                            <div class="carousel-item">
                                <div class="text-center">
                                    <p><strong>How would you rate your overall mood over the past week?</strong></p>
                                    <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Toolbar with button groups">
                                        <div class="btn-group me-2" role="group" aria-label="Mood group">
                                            <button type="button" class="btn btn-body-tertiary">Very Happy</button>
                                            <button type="button" class="btn btn-body-tertiary">Happy</button>
                                            <button type="button" class="btn btn-body-tertiary">Neutral</button>
                                            <button type="button" class="btn btn-body-tertiary">Sad</button>
                                            <button type="button" class="btn btn-body-tertiary">Very Sad</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Question 5 -->
                            <div class="carousel-item">
                                <div class="text-center">
                                    <p><strong>Do you feel you have enough support from your family and friends?</strong></p>
                                    <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Toolbar with button groups">
                                        <div class="btn-group me-2" role="group" aria-label="Support group">
                                            <button type="button" class="btn btn-body-tertiary">Strongly Agree</button>
                                            <button type="button" class="btn btn-body-tertiary">Agree</button>
                                            <button type="button" class="btn btn-body-tertiary">Neutral</button>
                                            <button type="button" class="btn btn-body-tertiary">Disagree</button>
                                            <button type="button" class="btn btn-body-tertiary">Strongly Disagree</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Carousel Controls -->
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </form>

    <!-- Include the footer -->
    <%- include('../utils/footer') %>

    <!-- Script to handle form submission -->
    <script>
        document.getElementById('questionnaireForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            // Collect form data
            var formData = new FormData(this);

            // Send form data using Fetch API
            fetch('/submit-response', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                // Handle successful form submission
                console.log('Success:', data);
                alert('Thank you for your submission!');
            })
            .catch(error => {
                // Handle errors
                console.error('Error:', error);
                alert('An error occurred. Please try again.');
            });
        });
    </script>
</body>
</html>
